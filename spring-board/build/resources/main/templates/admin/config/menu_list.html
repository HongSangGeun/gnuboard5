<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{admin/layout/layout}">

<head>
    <title>메뉴설정</title>
</head>

<body>
    <div layout:fragment="content">
        <div class="local_desc01 local_desc">
            <p><strong>주의!</strong> 메뉴설정 작업 후 반드시 <strong>확인</strong>을 누르셔야 저장됩니다.</p>
        </div>

        <form th:action="@{/mgmt/config/menu/update}" method="post">
            <div class="tbl_head01 tbl_wrap">
                <table>
                    <caption>메뉴설정 목록</caption>
                    <thead>
                        <tr>
                            <th scope="col">메뉴코드</th>
                            <th scope="col">메뉴명</th>
                            <th scope="col">링크</th>
                            <th scope="col">새창</th>
                            <th scope="col">순서</th>
                            <th scope="col">사용</th>
                            <th scope="col">관리</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="menu : ${menus}">
                            <td th:text="${menu.meCode}">Code</td>
                            <td>
                                <input type="text" name="meName" th:value="${menu.meName}" class="frm_input">
                                <input type="hidden" name="meId" th:value="${menu.meId}">
                            </td>
                            <td><input type="text" name="meLink" th:value="${menu.meLink}" class="frm_input full_input">
                            </td>
                            <td>
                                <select name="meTarget">
                                    <option value="self" th:selected="${menu.meTarget == 'self'}">사용안함</option>
                                    <option value="blank" th:selected="${menu.meTarget == 'blank'}">새창</option>
                                </select>
                            </td>
                            <td><input type="text" name="meOrder" th:value="${menu.meOrder}" class="frm_input" size="5">
                            </td>
                            <td>
                                <select name="meUse">
                                    <option value="1" th:selected="${menu.meUse == 1}">사용함</option>
                                    <option value="0" th:selected="${menu.meUse == 0}">사용안함</option>
                                </select>
                            </td>
                            <td>
                                <a th:href="@{/mgmt/config/menu/form(id=${menu.meId})}" class="btn btn_03">수정</a>
                                <button type="submit"
                                        class="btn btn_02"
                                        th:formaction="@{/mgmt/config/menu/delete(meId=${menu.meId})}"
                                        formmethod="post"
                                        onclick="return confirm('삭제하시겠습니까?');">삭제</button>
                                <a th:if="${#strings.length(menu.meCode) == 2}"
                                    th:href="@{/mgmt/config/menu/form(code=${menu.meCode})}"
                                    class="btn btn_03">하위추가</a>
                            </td>
                        </tr>
                        <tr th:if="${#lists.isEmpty(menus)}">
                            <td colspan="7" class="empty_table">자료가 없습니다.</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="btn_fixed_top">
                <a th:href="@{/mgmt/config/menu/form}" class="btn btn_02">메뉴추가</a>
                <input type="submit" value="확인" class="btn_submit btn">
            </div>
        </form>
    </div>
</body>

</html>
